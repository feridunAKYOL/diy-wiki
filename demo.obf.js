const _0x5b58 = [
  'map',
  'get',
  'listen',
  'readdir',
  'name',
  'Wiki\x20app\x20is\x20serving\x20at\x20http://localhost:',
  '/api/page/:slug',
  'cors',
  'join',
  'add',
  'slug',
  'json',
  'body-parser',
  'parse',
  '/api/tags/all',
  'path',
  'promisify',
  'substring',
  'filter',
  'all',
  'writeFile',
  'build',
  'includes',
  'PORT',
  'index.html',
  'use',
  'Page\x20does\x20not\x20exist.',
  'env',
  'express',
  'readFile',
  '.md',
  'forEach',
  'from',
  'utf-8',
  'params',
  'Could\x20not\x20write\x20page.',
  'util',
  'error',
  'client',
  'data',
  '/api/pages/all',
  'log'
];
(function(_0x5b0299, _0x5b5856) {
  const _0xd5216b = function(_0x3a8bb0) {
    while (--_0x3a8bb0) {
      _0x5b0299['push'](_0x5b0299['shift']());
    }
  };
  _0xd5216b(++_0x5b5856);
})(_0x5b58, 0x1e2);
const _0xd521 = function(_0x5b0299, _0x5b5856) {
  _0x5b0299 = _0x5b0299 - 0x0;
  let _0xd5216b = _0x5b58[_0x5b0299];
  return _0xd5216b;
};
const _0x3f91dc = require(_0xd521('0x8'));
const _0x2714e6 = require(_0xd521('0x1d'));
const _0x19df5d = require(_0xd521('0x22'));
const _0x444221 = require(_0xd521('0x25'));
const _0x50319d = require(_0xd521('0x10'));
const _0x5a5660 = require('fs');
const _0x37a863 = _0x50319d[_0xd521('0x26')](_0x5a5660[_0xd521('0x9')]);
const _0x5a9822 = _0x50319d[_0xd521('0x26')](_0x5a5660[_0xd521('0x0')]);
const _0x12622f = _0x50319d['promisify'](_0x5a5660[_0xd521('0x19')]);
const _0x13369d = _0x3f91dc();
_0x13369d[_0xd521('0x5')](_0x2714e6());
_0x13369d[_0xd521('0x5')](_0x19df5d[_0xd521('0x21')]());
_0x13369d['use'](_0x3f91dc['static'](_0x444221['join'](__dirname, _0xd521('0x12'), 'build')));
const _0x5136a4 = _0xd521('0x13');
const _0x4e2189 = /#\w+/g;
function _0x26f9ee(_0x3d212e) {
  const _0x3139a2 = _0x3d212e + _0xd521('0xa');
  return _0x444221['join'](_0x5136a4, _0x3139a2);
}
function _0x4304e5(_0x2eb0a5, _0x52cc04) {
  _0x2eb0a5['json']({ status: 'ok', ..._0x52cc04 });
}
function _0x5ec7f2(_0x636113, _0x39baa1) {
  _0x636113[_0xd521('0x21')]({ status: _0xd521('0x11'), message: _0x39baa1 });
}
_0x13369d[_0xd521('0x17')]('/api/page/:slug', async (_0x830e97, _0x3ecc1d) => {
  const _0x44f5e7 = _0x26f9ee(_0x830e97[_0xd521('0xe')][_0xd521('0x20')]);
  try {
    const _0x26ee5b = await _0x37a863(_0x44f5e7, _0xd521('0xd'));
    return _0x4304e5(_0x3ecc1d, { body: _0x26ee5b });
  } catch (_0x1eff66) {
    return _0x5ec7f2(_0x3ecc1d, _0xd521('0x6'));
  }
});
_0x13369d['post'](_0xd521('0x1c'), async (_0xbe90ef, _0x53f684) => {
  const _0xf215aa = _0x26f9ee(_0xbe90ef['params']['slug']);
  try {
    const _0x194557 = _0xbe90ef['body']['body'];
    await _0x5a9822(_0xf215aa, _0x194557);
    return _0x4304e5(_0x53f684);
  } catch (_0x5d44f1) {
    return _0x5ec7f2(_0x53f684, _0xd521('0xf'));
  }
});
_0x13369d['get'](_0xd521('0x14'), async (_0x5e19dc, _0x345889) => {
  const _0x11c8ec = await _0x12622f(_0x5136a4);
  const _0x36920b = _0x11c8ec['map'](
    _0x1142c5 => _0x444221[_0xd521('0x23')](_0x1142c5)[_0xd521('0x1a')]
  );
  return _0x4304e5(_0x345889, { pages: _0x36920b });
});
_0x13369d['get'](_0xd521('0x24'), async (_0x423b23, _0x484ca6) => {
  let _0x51793a = await _0x12622f(_0x5136a4);
  _0x51793a = _0x51793a[_0xd521('0x16')](_0x131da2 => _0x444221['join'](_0x5136a4, _0x131da2));
  const _0x4b1fc1 = new Set();
  const _0x280d46 = _0x51793a[_0xd521('0x16')](async _0x9d9a5a => {
    const _0x4c48d2 = await _0x37a863(_0x9d9a5a, 'utf-8');
    const _0xfca7ba = _0x4c48d2['match'](_0x4e2189);
    _0xfca7ba[_0xd521('0xb')](_0x52669b =>
      _0x4b1fc1[_0xd521('0x1f')](_0x52669b[_0xd521('0x27')](0x1))
    );
  });
  await Promise[_0xd521('0x29')](_0x280d46);
  return _0x4304e5(_0x484ca6, { tags: Array[_0xd521('0xc')](_0x4b1fc1) });
});
_0x13369d[_0xd521('0x17')]('/api/tags/:tag', async (_0x8fd203, _0x201845) => {
  const _0x3a7dbf = _0x8fd203[_0xd521('0xe')]['tag'];
  const _0x368edd = '#' + _0x3a7dbf;
  let _0x252010 = await _0x12622f(_0x5136a4);
  _0x252010 = _0x252010[_0xd521('0x16')](_0x201b0b =>
    _0x444221[_0xd521('0x1e')](_0x5136a4, _0x201b0b)
  );
  const _0x12411d = _0x252010[_0xd521('0x16')](async _0x5627d0 => {
    const _0x5803cd = await _0x37a863(_0x5627d0, 'utf-8');
    const _0x53ce1c = _0x5803cd['match'](_0x4e2189);
    if (_0x53ce1c && _0x53ce1c[_0xd521('0x2')](_0x368edd)) {
      return _0x444221['parse'](_0x5627d0)['name'];
    }
  });
  const _0xaafb93 = await Promise[_0xd521('0x29')](_0x12411d);
  const _0x6ec7f8 = _0xaafb93[_0xd521('0x28')](_0x33a117 => _0x33a117);
  return _0x4304e5(_0x201845, { tag: _0x3a7dbf, pages: _0x6ec7f8 });
});
_0x13369d[_0xd521('0x17')]('*', (_0x3c74d3, _0x21efb2) => {
  _0x21efb2['sendFile'](
    _0x444221[_0xd521('0x1e')](__dirname, _0xd521('0x12'), _0xd521('0x1'), _0xd521('0x4'))
  );
});
const _0x1c5025 = process[_0xd521('0x7')][_0xd521('0x3')] || 0x1388;
_0x13369d[_0xd521('0x18')](_0x1c5025, () => console[_0xd521('0x15')](_0xd521('0x1b') + _0x1c5025));
